# üöÄ GitHub Actions - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ CRM

## ‚úÖ –ß—Ç–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ

–í–∞—à CRM –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç **–ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞ GitHub Actions**:

- üìç **–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**: https://github.com/ivanshyla/OrdersToTelegram
- ‚è∞ **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ**: 4 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å (7:30, 19:00, 20:00, 21:00 –ø–æ –µ–≤—Ä–æ–ø–µ–π—Å–∫–æ–º—É –≤—Ä–µ–º–µ–Ω–∏)
- üåç **–ì–æ—Ä–æ–¥–∞**: –í–∞—Ä—à–∞–≤–∞ –∏ –ë–µ—Ä–ª–∏–Ω
- üí∞ **–°—Ç–æ–∏–º–æ—Å—Ç—å**: –ë–ï–°–ü–õ–ê–¢–ù–û (2000 –º–∏–Ω—É—Ç/–º–µ—Å—è—Ü)

## üìã –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–ø—É—Å–∫–æ–≤

| –í—Ä–µ–º—è (–ï–≤—Ä–æ–ø–∞) | –í—Ä–µ–º—è (UTC) | –ö–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è |
|----------------|-------------|-------------------|
| 7:30 CEST      | 5:30 UTC    | –£—Ç—Ä–µ–Ω–Ω—è—è –ø—Ä–æ–≤–µ—Ä–∫–∞ |
| 19:00 CEST     | 17:00 UTC   | –í–µ—á–µ—Ä–Ω—è—è –ø—Ä–æ–≤–µ—Ä–∫–∞ |
| 20:00 CEST     | 18:00 UTC   | –í–µ—á–µ—Ä–Ω—è—è –ø—Ä–æ–≤–µ—Ä–∫–∞ |
| 21:00 CEST     | 19:00 UTC   | –í–µ—á–µ—Ä–Ω—è—è –ø—Ä–æ–≤–µ—Ä–∫–∞ |

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ó–∏–º–æ–π (CET) –≤—Ä–µ–º—è —Å–º–µ—Å—Ç–∏—Ç—Å—è –Ω–∞ 1 —á–∞—Å –Ω–∞–∑–∞–¥. GitHub Actions –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ UTC.

## üîê –°–µ–∫—Ä–µ—Ç—ã (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã)

–í—Å–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –∫–∞–∫ GitHub Secrets:

- ‚úÖ `WARSAW_LOGIN` - –ª–æ–≥–∏–Ω –¥–ª—è –í–∞—Ä—à–∞–≤—ã
- ‚úÖ `WARSAW_PASSWORD` - –ø–∞—Ä–æ–ª—å –¥–ª—è –í–∞—Ä—à–∞–≤—ã
- ‚úÖ `WARSAW_CHAT_ID` - ID Telegram —á–∞—Ç–∞ –¥–ª—è –í–∞—Ä—à–∞–≤—ã
- ‚úÖ `BERLIN_LOGIN` - –ª–æ–≥–∏–Ω –¥–ª—è –ë–µ—Ä–ª–∏–Ω–∞
- ‚úÖ `BERLIN_PASSWORD` - –ø–∞—Ä–æ–ª—å –¥–ª—è –ë–µ—Ä–ª–∏–Ω–∞
- ‚úÖ `BERLIN_CHAT_ID` - ID Telegram —á–∞—Ç–∞ –¥–ª—è –ë–µ—Ä–ª–∏–Ω–∞
- ‚úÖ `TELEGRAM_BOT_TOKEN` - —Ç–æ–∫–µ–Ω Telegram –±–æ—Ç–∞

## üéØ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–ø—É—Å–∫–æ–≤

```bash
# –°–ø–∏—Å–æ–∫ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∑–∞–ø—É—Å–∫–æ–≤
gh run list

# –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
gh run view <run-id>

# –õ–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
gh run view <run-id> --log
```

### –ó–∞–ø—É—Å–∫ –≤—Ä—É—á–Ω—É—é

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å (–¥–ª—è —Ç–µ—Å—Ç–∞)
gh workflow run crm-monitor.yml

# –ò–ª–∏ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
# 1. –û—Ç–∫—Ä–æ–π—Ç–µ https://github.com/ivanshyla/OrdersToTelegram/actions
# 2. –í—ã–±–µ—Ä–∏—Ç–µ "CRM Monitor"
# 3. –ù–∞–∂–º–∏—Ç–µ "Run workflow"
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://github.com/ivanshyla/OrdersToTelegram/actions
2. –í—ã–±–µ—Ä–∏—Ç–µ –ª—é–±–æ–π –∑–∞–ø—É—Å–∫
3. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –¥–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞

## üîß –ò–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫

### –ò–∑–º–µ–Ω–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.github/workflows/crm-monitor.yml`:

```yaml
schedule:
  - cron: '30 5 * * *'   # 7:30 –ø–æ –µ–≤—Ä–æ–ø–µ–π—Å–∫–æ–º—É –≤—Ä–µ–º–µ–Ω–∏
  - cron: '0 17 * * *'   # 19:00 –ø–æ –µ–≤—Ä–æ–ø–µ–π—Å–∫–æ–º—É –≤—Ä–µ–º–µ–Ω–∏
```

### –ò–∑–º–µ–Ω–∏—Ç—å –≥–æ—Ä–æ–¥–∞ –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `crm-watcher/multi_crm_config.py` (–≤ –≤–∞—à–µ–º –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–¥–µ), –∑–∞—Ç–µ–º:

```bash
git add crm-watcher/multi_crm_config.py
git commit -m "Update CRM config"
git push
```

### –ò–∑–º–µ–Ω–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã

```bash
# –û–±–Ω–æ–≤–∏—Ç—å —Å–µ–∫—Ä–µ—Ç
gh secret set SECRET_NAME --body "–Ω–æ–≤–æ–µ_–∑–Ω–∞—á–µ–Ω–∏–µ"

# –ù–∞–ø—Ä–∏–º–µ—Ä, —Å–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å –¥–ª—è –í–∞—Ä—à–∞–≤—ã:
gh secret set WARSAW_PASSWORD --body "–Ω–æ–≤—ã–π_–ø–∞—Ä–æ–ª—å"
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–±–æ—Ç—ã

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å

```bash
# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 10 –∑–∞–ø—É—Å–∫–æ–≤
gh run list --limit 10

# –¢–æ–ª—å–∫–æ –Ω–µ—É–¥–∞—á–Ω—ã–µ –∑–∞–ø—É—Å–∫–∏
gh run list --status failure
```

### –ü–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

GitHub –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç email, –µ—Å–ª–∏ workflow –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —Å –æ—à–∏–±–∫–æ–π.

–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤: https://github.com/settings/notifications

## üêõ –û—Ç–ª–∞–¥–∫–∞

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏**: https://github.com/ivanshyla/OrdersToTelegram/actions
2. **–°–∫—Ä–∏–Ω—à–æ—Ç—ã –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö** —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ Artifacts (–¥–æ—Å—Ç—É–ø–Ω—ã 7 –¥–Ω–µ–π)
3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Ä—É—á–Ω—É—é** –¥–ª—è —Ç–µ—Å—Ç–∞: `gh workflow run crm-monitor.yml`

### –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

| –ü—Ä–æ–±–ª–µ–º–∞ | –†–µ—à–µ–Ω–∏–µ |
|----------|---------|
| Workflow –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å cron –≤ `.github/workflows/crm-monitor.yml` |
| –û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã: `gh secret list` |
| –ù–µ –ø—Ä–∏—Ö–æ–¥—è—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `TELEGRAM_BOT_TOKEN` –∏ `CHAT_ID` |
| Timeout | –£–≤–µ–ª–∏—á—å—Ç–µ `timeout-minutes` –≤ workflow |

## üéâ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ GitHub Actions

‚úÖ **–ë–µ—Å–ø–ª–∞—Ç–Ω–æ** (2000 –º–∏–Ω—É—Ç/–º–µ—Å—è—Ü)  
‚úÖ **–ù–∞–¥–µ–∂–Ω–æ** (—Ä–∞–±–æ—Ç–∞–µ—Ç 24/7)  
‚úÖ **–ù–µ –Ω—É–∂–µ–Ω Mac** (–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞—Ö GitHub)  
‚úÖ **–õ–æ–≥–∏ –∏ –∏—Å—Ç–æ—Ä–∏—è** –≤—Å–µ—Ö –∑–∞–ø—É—Å–∫–æ–≤  
‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ** (—Å–µ–∫—Ä–µ—Ç—ã –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã)  
‚úÖ **–õ–µ–≥–∫–æ –∏–∑–º–µ–Ω–∏—Ç—å** (–≤—Å—ë –≤ git)

## üìù –ß—Ç–æ –¥–∞–ª—å—à–µ?

1. ‚úÖ –°–∏—Å—Ç–µ–º–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ https://github.com/ivanshyla/OrdersToTelegram/actions
3. ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –±—É–¥—É—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –≤ Telegram –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–ù–∏—á–µ–≥–æ –±–æ–ª—å—à–µ –¥–µ–ª–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ!** üéä

---

üí° **–°–æ–≤–µ—Ç**: –î–æ–±–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ Actions –≤ –∑–∞–∫–ª–∞–¥–∫–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –ª–æ–≥–∞–º.

